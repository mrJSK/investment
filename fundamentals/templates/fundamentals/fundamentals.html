<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ page_title }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #f0f2f5; /* Light gray background */
      }
      .container-wrapper {
        display: flex;
        min-height: 100vh; /* Full viewport height */
      }
      .sidebar {
        width: 280px; /* Fixed width sidebar */
        background-color: #1f2937; /* Dark gray */
        padding: 1rem;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        overflow-y: auto; /* Scrollable sidebar */
        flex-shrink: 0; /* Prevent sidebar from shrinking */
      }
      .main-content-area {
        flex-grow: 1; /* Main content takes remaining space */
        padding: 1.5rem;
        background-color: #f0f2f5; /* Light gray background */
        overflow-y: auto; /* Make main content scrollable */
      }
      .card {
        background-color: #ffffff;
        border-radius: 0.75rem; /* rounded-xl */
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        margin-bottom: 1.5rem; /* Space between cards */
      }
      .header-bg {
        background-color: #4f46e5; /* Indigo-600 */
        color: #ffffff;
      }
      .section-header {
        background-color: #e0e7ff; /* Indigo-100 */
        color: #4338ca; /* Indigo-700 */
        border-bottom: 1px solid #c7d2fe; /* Indigo-200 */
      }
      .score-9-plus {
        background-color: #d1fae5; /* Green-100 */
        color: #065f46; /* Green-800 */
      }
      .score-8-below {
        background-color: #ffe4e6; /* Red-100 */
        color: #991b1b; /* Red-800 */
      }
      .table-header th {
        padding-top: 0.75rem;
        padding-bottom: 0.75rem;
        text-align: left;
        font-size: 0.75rem; /* text-xs */
        font-weight: 500; /* font-medium */
        color: #6b7280; /* gray-500 */
        text-transform: uppercase;
        letter-spacing: 0.05em; /* tracking-wider */
      }
      .table-row td {
        padding-top: 0.75rem;
        padding-bottom: 0.75rem;
        font-size: 0.875rem; /* text-sm */
        color: #1f2937; /* gray-900 */
      }
      .table-row:nth-child(odd) {
        background-color: #f9fafb; /* gray-50 */
      }
      /* Custom scrollbar for deep-dive tables */
      .custom-scrollbar::-webkit-scrollbar {
        height: 8px;
        background-color: #374151; /* Darker gray for track */
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: #4f46e5; /* Indigo-600 for thumb */
        border-radius: 4px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: #6366f1; /* Lighter indigo on hover */
      }
      .section-title {
        @apply text-xl font-semibold text-gray-800 mb-4 pb-2 border-b-2 border-indigo-400 flex items-center;
      }
      .section-title .fa-icon {
        @apply text-indigo-500 mr-2;
      }
      @media (max-width: 768px) {
        .container-wrapper {
          flex-direction: column;
        }
        .sidebar {
          width: 100%;
          height: 300px; /* Fixed height for sidebar on mobile */
        }
        .main-content-area {
          padding: 1rem;
        }
      }
    </style>
  </head>
  <body class="p-0 m-0">
    <div class="container-wrapper">
      <!-- Left Sidebar: Company List -->
      <div class="sidebar">
        <h2 class="text-xl font-bold text-white mb-4">Companies</h2>
        <div class="relative mb-4">
          <input
            type="text"
            id="search-input"
            placeholder="Search companies..."
            class="w-full p-2 pl-10 rounded-md bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500"
          />
          <div class="absolute inset-y-0 left-0 flex items-center pl-3">
            <i class="fas fa-search text-gray-400"></i>
          </div>
        </div>
        <ul id="company-list" class="space-y-2">
          <!-- Company list will be loaded here by JavaScript -->
          <li class="p-3 text-sm text-center text-gray-400">
            Loading companies...
          </li>
        </ul>
      </div>

      <!-- Main Content Area -->
      <div class="main-content-area">
        <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">
          {{ page_title }}
        </h1>

        <div id="loading-spinner" class="hidden text-center py-8">
          <i class="fas fa-spinner fa-spin text-indigo-500 fa-3x"></i>
          <p class="text-gray-600 mt-2">Loading data...</p>
        </div>

        <div
          id="error-message"
          class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative mb-6"
          role="alert"
        >
          <strong class="font-bold">Error!</strong>
          <span class="block sm:inline" id="error-message-text"></span>
        </div>

        <!-- Content for Fundamental Screener -->
        <div id="fundamental-screener-content">
          <!-- This content will be populated by JS from fundamental_screener_api -->
        </div>

        <!-- Content for Deep Dive (hidden by default) -->
        <div id="deep-dive-content" class="hidden">
          <!-- This content will be populated by JS from company_detail_api -->
        </div>
      </div>
    </div>

    <script src="/static/fundamentals/js/fundamentals_dashboard.js"></script>
  </body>
</html>
