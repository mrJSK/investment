{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>ScreenerX</title>
    <link href="{% static 'screener/builder.css' %}" rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container-fluid px-5 py-4">
      <h2 class="mb-4">ScreenerX</h2>
      <div class="row">
        <div class="col-md-3">
          <!-- Sidebar quick filters (UI only unless hooked to backend) -->
          <div class="card p-3">
            <div class="mb-2"><b>üîç Quick Filters</b></div>
            <label class="mb-1">Market Cap</label>
            <select class="form-select mb-2">
              <option>All</option>
              <option>Large Cap</option>
              <option>Mid Cap</option>
              <option>Small Cap</option>
            </select>
            <label class="mb-1">Sector</label>
            <select class="form-select mb-2">
              <option>All</option>
              <!-- Add options -->
            </select>
            <label class="mb-1">Volume</label>
            <input
              type="range"
              min="0"
              max="100"
              value="50"
              class="form-range"
            />
          </div>
        </div>
        <div class="col-md-9">
          <div class="mb-3" style="font-size: 1.1em">
            Stock passes <b>all</b> of the below filters in
            <select
              id="segment-select"
              class="form-select d-inline w-auto mx-2"
            >
              <option value="Nifty50">Nifty 50</option>
              <option value="Cash">Cash</option>
              <option value="Futures">Futures</option>
            </select>
            segment:
          </div>
          <form id="screener-form" class="mb-4">
            <div id="filter-list"></div>
            <button
              type="button"
              id="add-filter-btn"
              class="btn btn-primary mt-2"
            >
              + Add Filter
            </button>
            <button type="submit" class="btn btn-success mt-2 ms-2">
              Run Scan
            </button>
            <!-- Add other scan buttons for UI only -->
            <button type="button" class="btn btn-secondary mt-2 ms-2">
              Save Scan
            </button>
            <button type="button" class="btn btn-info mt-2 ms-2">
              Copy Scan
            </button>
            <button type="button" class="btn btn-danger mt-2 ms-2">
              Love Scan
            </button>
            <button type="button" class="btn btn-warning mt-2 ms-2">
              Create Alert
            </button>
            <button type="button" class="btn btn-dark mt-2 ms-2">
              Monitor on dashboard
            </button>
            <button
              type="button"
              class="btn btn-magenta mt-2 ms-2"
              style="background: #e012c3; color: white"
            >
              Backtest Results
            </button>
          </form>
          <div id="screener-results" class="mb-4"></div>
          <table class="table table-bordered">
            <thead class="table-primary">
              <tr>
                <th>#</th>
                <th>Symbol</th>
                <th>Last Price</th>
                <th>Change %</th>
                <th>Volume</th>
                <th>Matched</th>
              </tr>
            </thead>
            <tbody>
              <!-- Results get injected here via JS -->
            </tbody>
          </table>
          <button class="btn btn-outline-primary" style="float: right">
            Export CSV
          </button>
        </div>
      </div>
    </div>
    <script src="{% static 'screener/builder.js' %}"></script>
  </body>
</html>
